{"mappings":"ssBAAAA,EAAAC,EAAAC,GAEAC,EAAAF,EAAAG,GACAC,EAAAJ,EAAAK,mFCCUC,EAAcC,EAAAA,QAAMC,IAAN,wBAELC,OACRC,EAAW,EAAd,aAGMC,EAAOJ,EAAAA,QAAMC,IAAN,WACbI,QAAQC,IAAIP,EAAW,WAAcK,EAAKF,UAGhCA,OACPC,EAAW,EAAd,aAGMC,EAAOJ,EAAAA,QAAMC,IAAN,WACbI,QAAQC,IAAIP,EAAW,WAAcK,EAAKF,UAGhCA,OACPC,EAAW,EAAd,aAGMI,EAASP,EAAAA,QAAMC,IAAN,WACfI,QAAQC,IAAIP,EAAW,WAAcQ,EAAOL,WAGrC,CAAIA,EAAgBM,QACxBL,EAAW,EAAd,aAGMM,EAAMT,EAAAA,QAAMC,IAAN,WACNS,EAAmBF,EAAQN,EAAO,oBAAuBM,EAAMN,cAAcM,EAAMG,QAAUT,EACnGG,QAAQC,IAAIP,EAAW,WAAcU,EAAIC,8BAgBrBE,GACxBT,EAAWS,SArDfC,KAAAC,mCDoBYC,EC+BRZ,EAAW,yDD/BHY,2BAAAA,EAAAA,0BAAAA,uBAAAA,wBAAAA,4BAAAA,+CAe+BC,MAAUC,EAAuBC,EAAsCC,EAA6BC,UACvHC,QAAQC,IACxBL,EAAcM,KAAdP,MAAwBQ,UACdC,EAAyBC,EAAmBF,EAAKG,KAAMT,EAAiBC,EAAqBC,GAC7FQ,EAAYC,EAA4BJ,EAAuBK,gBAC/DC,EAAuBC,EAAyBP,EAAuBQ,8BAAgCT,EAAKU,SAAUN,EAAWV,EAAiBO,EAAuBU,qBAAsBV,EAAuBW,kBAAmBhB,UACtOc,SAAUV,EAAKU,SAAUP,KAAMI,8BAgBnBf,MAAUc,EAAwBZ,EAAsCC,EAA6BC,EAA0BiB,WACtJZ,EAAyBC,EAAmBI,EAAgBZ,EAAiBC,EAAqBC,GAClGQ,EAAYC,EAA4BJ,EAAuBK,mBAEjD,MAAjBO,GAAgF,MAAvDZ,EAAuBQ,6BAAnD,MAAA,IACcK,MAAJ,yFAGmBN,EAAyBK,GAAiBZ,EAAuBQ,6BAAwCL,EAAWV,EAAiBO,EAAuBU,qBAAsBV,EAAuBW,kBAAmBhB,oCAcnNJ,MAAUc,EAAwBX,EAA6BC,EAA0BiB,WACzHZ,EAAyBC,EAAmBI,EAAgBf,EAAoBwB,OAAQpB,EAAqBC,GAC7GQ,EAAYC,EAA4BJ,EAAuBK,mBAEjD,MAAjBO,GAAgF,MAAvDZ,EAAuBQ,6BAAnD,MAAA,IACcK,MAAJ,yFAGmBN,EAAyBK,GAAiBZ,EAAuBQ,6BAAwCL,EAAWb,EAAoBwB,YAAQC,EAAWf,EAAuBW,kBAAmBhB,GAEpMK,EAAuBW,0BAGnDP,EAA+BC,cAEvBF,EAAYa,EAAqBjD,EAAAkD,QAAAC,cAAChD,EAAA+C,QAAD,CAAeE,SAAUd,YACtCF,EAAUiB,QAAV,YAA8BC,GAAKA,EAAC,iBAEzDtC,SACLuC,EAAAC,SAASxC,MAAT,qCAAoDA,SAC1CA,IAIZkB,EAAkB,CAAIuB,EAA+B/B,EAAsCC,EAA8BC,oBAE/GO,EAAFuB,QAAQA,GAAYrD,EAAA6C,QAAOO,GAE3Bb,EAA0BlB,GAAmBH,EAAoBwB,OACjEZ,OACAa,EAEAL,EAAuBjB,GAAmBH,EAAoBoC,WAAajC,GAAmBH,EAAoBqC,YAClHC,EAA2B1B,EAAMT,EAAiBC,EAAqBC,QACvEoB,SAKFL,qBAAsBA,EACtBC,kBAAmBA,EACnBN,eAAgBoB,+BALiBvB,EAAI,yBAA4BA,EAAI,aAQpEnB,SACLuC,EAAAC,SAASxC,MAAT,mCAAkDA,SACxCA,IAIZ6C,EAA0B,CAAIC,EAAuBpC,EAAsCC,EAA8BC,IACxHmC,OAAOC,KAAKF,GAAeG,OAAS,EAAvC,GAGGvC,GAAmBH,EAAoBoC,UAC/BO,EAAsBJ,EAAenC,EAA+BC,GAG5EF,GAAmBH,EAAoBqC,YAC/BO,EAA2BL,MAOpCtB,EAAwB,CAAIK,EAAuBuB,EAAqB1C,EAAqC2C,EAA4BzB,EAA4BhB,WACjK0C,EAAwBzB,EAAcQ,QAAd,OAA6BC,GAAKA,EAAEiB,gBAC5DC,EAA0B3B,EAAcQ,QAAd,OAA6BC,GAAKA,EAAEmB,uBAE5CJ,EAAoB3C,GAAmBH,EAAoBqC,YAAvC,4CAAsD,gDAA6FhC,2BAAiB,IAAA,SACrM0C,mBAAuC5C,GAAmBH,EAAoBoC,UAAvC,GAAsDU,MAAkB,6CAEpGG,gBAChBH,GAAqB3C,GAAmBH,EAAoBqC,YAA5D,GAA6ES,UAAkB,OAAiBD,oCAGpHxB,EAAiB,gCAAmC8B,KAAKC,UAAU/B,EAAmB,KAAlC,SAA6C,4BAChF0B,KAMjBH,EAA8BL,QAC5BA,EAAJ,MAAA,OAaIc,EAAoB,aAEbC,KAAYf,EAAvB,OACUgB,EAAYhB,EAAce,OAE5BE,EAAuBC,EAAUF,GAAWzB,QAArB,WAAA,WAEnBwB,eAEAD,GAAoB,oBAAwBG,oCAG5CH,GAAoB,+CAAmDG,2BAGvEH,GAAoB,0CAA8CG,6BAGlEH,GAAoB,4CAAgDG,uDAKpEH,GAAoB,yBAA6BC,eAAsBE,eAMlF,iBACYH,sBAMXV,EAAqB,CAAIJ,EAAuBnC,EAA6BC,SAC3EkC,EAAJ,MAAA,SAeMmB,EAA4BtD,EAAoB0B,QAApB,SAAA,IAC5B6B,EAAiB,MAAWD,EAA0B5B,QAA1B,OAAyCC,GAAKA,EAAEiB,gBAC5EY,EAAoBF,EAA0B5B,QAA1B,OAAyCC,GAAKA,EAAEmB,oBAEtEG,EAAoB,aAEbC,KAAYf,EAAvB,OACUgB,EAAYhB,EAAce,OAC5BE,EAAuBC,EAAUF,SAC/BM,EAA2BP,EAASxB,QAAT,SAAA,IAE9B,uBAAA+B,EAAyBX,gBAG5BG,GAAoB,OAAWQ,OAA8BL,eAGpC,cACfI,MAAsBD,mBAAmCtD,WAC5DsD,eACOC,OACPP,wIEhPkBpD,MAAU6D,QACnCC,EAAe,aAITC,SADiBC,EAASC,MAAMJ,IACJK,cAE5BC,EAAkBJ,QACZC,EAASI,QAAQP,GAAjB,CACLQ,EAASR,OAEZM,EAAe1B,OAAS,SACxBV,EAAAC,SAASsC,KAAT,0BAAwCT,MACjCC,EAGX/B,EAAAC,SAASuC,KAAT,cAA4BJ,EAAe1B,cAAc0B,EAAe1B,OAAS,EAAxB,IAAA,YAA8CoB,SAEvGC,QAAgBK,EAAeK,QAAfxE,MAA6ByE,EAAoCvD,WACvEwD,QAAmBD,KAErB,OAAAE,EAAQzD,GAAZ,OAAuCwD,QAEjCE,EAAWb,EAAgB,GAAMF,KAAQ3C,IAAa2C,EACtDgB,QAAiBb,EAASc,SAASF,UACzCF,EAAWK,KAAX,CAAkB7D,SAAUmD,EAASnD,EAAT,OAA2BP,KAAMkE,EAASG,aAE/DN,IACRrE,QAAQ4E,QAAR,WACEC,GACLnD,EAAAC,SAASsC,KAAT,qCAAmDT,aAGhDC,mBAGe9D,MAAUmF,EAAoBC,EAAkBC,YAE/DD,EAAS3C,QAAU,EAAtB,OAGG4C,SACOrB,EAASsB,MAAMH,GAEzBpD,EAAAC,SAASuC,KAAT,cAA4Ba,EAAS3C,cAAc2C,EAAS3C,OAAS,EAAlB,IAAA,UAAsC0C,eAGnFnB,EAASuB,MAAMJ,EAAf,CAA6BK,WAAW,UACxCnF,QAAQC,IACV8E,EAAS7E,KAATP,MAAmByF,UACTzB,EAAS0B,UAAT,GAAsBP,KAAcM,EAAQvE,eAAgBuE,EAAQ9E,KAApE,kBAGTnB,GACLuC,EAAAC,SAASxC,MAAT,iCAAgDA,aC7DlDmG,IAAAC,QAYOC,EAAc,CACvBC,UAAS,WACTC,WAAU,cACV7F,gBAAe,cACf8F,qBAAoB,mBACpBC,wBAAuB,YACvBZ,4BAA4B,mCAId,IAAAa,GAA4BC,IAC1CA,EAAMC,aAAaC,SAASC,UAClBC,EAAkBC,SAASF,EAAMG,UACjCC,GAAW,IAAOC,MAAOC,qBAC5B,SAAAN,EAAMO,KAKT9E,EAAAC,SAAS8E,MAAT,GAAkBR,EAAMO,oBAAoBN,SAAuBG,MAJ/D3E,EAAAC,SAASuC,KAAT,WAAyBgC,SAAuBG,YAQ/CK,QAAb,CAAuBC,WAAU,YAAeC,QAAQ,2CAWnBjH,MAAUc,EAAwBO,EAAwB6F,aAOlEA,IALTC,KAAZ,qBAEMC,EAAW,IACVvB,KACAqB,EACHhH,iBAAiBgH,MAAAA,GAAA,QAAAA,EAAAA,EAAShH,uBAAT,IAAAgH,OAAA,EAAAA,EAA0BjE,gBAAiB4C,EAAe3F,8BAGvDmH,EAAAC,qBAAqBxG,EAAgBsG,EAAYlH,gBAAwCkH,EAAYnB,wBAAyBmB,EAAYpB,qBAAsB3E,SAGnL7B,sBAGO2H,KAAZ,eACYI,QAAZ,QAAA,cAAA,kEAWyCvH,MAAUc,EAAwBO,EAAwB6F,aAO9EA,IALTC,KAAZ,qBAEMC,EAAW,IACVvB,KACAqB,EACHhH,iBAAiBgH,MAAAA,GAAA,QAAAA,EAAAA,EAAShH,uBAAT,IAAAgH,OAAA,EAAAA,EAA0BjE,gBAAiB4C,EAAe3F,kBAGxEU,EAAWQ,SAA2BiG,EAAAG,8BAA8B1G,EAAgBsG,EAAYnB,wBAAyBmB,EAAYpB,qBAAsB3E,UAE1JT,EAAWQ,SACd5B,aACK8B,MAAJ,kDAA4D9B,eAEtD2H,KAAZ,eACYI,QAAZ,QAAA,cAAA,qDAW2BvH,MAAUkH,YAOhBA,IALTC,KAAZ,qBAEMC,EAAW,IACVvB,KACAqB,EACHhH,iBAAiBgH,MAAAA,GAAA,QAAAA,EAAAA,EAAShH,uBAAT,IAAAgH,OAAA,EAAAA,EAA0BjE,gBAAiB4C,EAAe3F,iBAGzE4D,QAAgB2D,EAAAC,qBAAqBN,EAAYtB,WACjD6B,QAAmBN,EAAAO,+BAA+B9D,EAASsD,EAAYlH,gBAAwCkH,EAAYnB,wBAAyBmB,EAAYpB,mCAChKyB,EAAAI,cAAcT,EAAYrB,WAAY4B,EAAYP,EAAY/B,4BAE7D,QACF7F,UACE,YAEK2H,KAAZ,eACYI,QAAZ,QAAA,cAAA","sources":["src/transformer.tsx","src/logger.ts","src/fileProcessor.tsx","src/index.ts"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.convertMarkdownToJSXAndObject = exports.convertMarkdownToJSX = exports.convertMarkdownFilesToJSXFiles = exports.frontMatterModeEnum = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _server = require(\"react-dom/server\");\n\nvar _reactMarkdown = _interopRequireDefault(require(\"react-markdown\"));\n\nvar _grayMatter = _interopRequireDefault(require(\"gray-matter\"));\n\nvar _json = require(\"json5\");\n\nvar _logger = require(\"./logger\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nlet frontMatterModeEnum;\n/**\n * Converts Markdown files to JSX files, including any html in the markdown.\n * Also, front-matter will be extracted in js variables in the react component.\n * @param {string[]} `markdownFiles` Markdown strings to convert that may also include front-matter and html.\n * @param {string} `outputFolderPath` Front matter to stringify.\n * @param {string} `reactContextName` name of react context object to assign front-matter variables to.\n * @return {Promise<JsxFiles>} Files containing jsx\n */\n\nexports.frontMatterModeEnum = frontMatterModeEnum;\n\n(function (frontMatterModeEnum) {\n  frontMatterModeEnum[\"object\"] = \"object\";\n  frontMatterModeEnum[\"reactHead\"] = \"reacthead\";\n  frontMatterModeEnum[\"reactHelmet\"] = \"reacthelmet\";\n  frontMatterModeEnum[\"none\"] = \"none\";\n})(frontMatterModeEnum || (exports.frontMatterModeEnum = frontMatterModeEnum = {}));\n\nconst convertMarkdownFilesToJSXFiles = async (markdownFiles, frontMatterMode, reactContextVarName, reactContextName) => {\n  const files = await Promise.all(markdownFiles.map(async file => {\n    const frontMatterAndMarkdown = extractFrontMatter(file.data, frontMatterMode, reactContextVarName, reactContextName);\n    const jsxString = convertMarkdownAndHtmlToJsx(frontMatterAndMarkdown.markdownString);\n    const reactComponentString = createJsxComponentString(frontMatterAndMarkdown.componentNameFromFrontMatter ?? file.fileName, jsxString, frontMatterMode, frontMatterAndMarkdown.frontMatterJsxString, frontMatterAndMarkdown.frontMatterObject, reactContextName);\n    return {\n      fileName: file.fileName,\n      data: reactComponentString\n    };\n  }));\n  return files;\n};\n/**\n * Converts Markdown to JSX, including any html in the markdown.\n * Also, front-matter will be extracted in js variables in the react component.\n * @param {string} `markdownString` Markdown string to convert to a react component that may also include front-matter and html.\n * @param {componentName} `componentName` Name of new react component.\n * @param {string} `reactContextVarName` name of react context variable name to assign front-matter variables to. like [shuji, setShuji] = useContext(...)\n * @param {string} `reactContextName` name of react context object to assign front-matter variables to.\n * @return {Promise<string>} Front matter and Markdown JSX strings\n */\n\n\nexports.convertMarkdownFilesToJSXFiles = convertMarkdownFilesToJSXFiles;\n\nconst convertMarkdownToJSX = async (markdownString, frontMatterMode, reactContextVarName, reactContextName, componentName) => {\n  const frontMatterAndMarkdown = extractFrontMatter(markdownString, frontMatterMode, reactContextVarName, reactContextName);\n  const jsxString = convertMarkdownAndHtmlToJsx(frontMatterAndMarkdown.markdownString);\n\n  if (componentName == null && frontMatterAndMarkdown.componentNameFromFrontMatter == null) {\n    throw new Error('You must provide a component name eithe through front matter or as a parameter');\n  }\n\n  const reactComponentString = createJsxComponentString(componentName ?? frontMatterAndMarkdown.componentNameFromFrontMatter, jsxString, frontMatterMode, frontMatterAndMarkdown.frontMatterJsxString, frontMatterAndMarkdown.frontMatterObject, reactContextName);\n  return reactComponentString;\n};\n/**\n * Converts Markdown to JSX, including any html in the markdown.\n * Also, front-matter will be extracted in js variables in the react component.\n * @param {string} `markdownString` Markdown string to convert to a react component that may also include front-matter and html.\n * @param {componentName} `componentName` Name of new react component.\n * @param {string} `reactContextVarName` name of react context variable name to assign front-matter variables to. like [shuji, setShuji] = useContext(...)\n * @param {string} `reactContextName` name of react context object to assign front-matter variables to.\n * @return {Promise[string, object]} Markdown JSX string and front matter object.\n */\n\n\nexports.convertMarkdownToJSX = convertMarkdownToJSX;\n\nconst convertMarkdownToJSXAndObject = async (markdownString, reactContextVarName, reactContextName, componentName) => {\n  const frontMatterAndMarkdown = extractFrontMatter(markdownString, frontMatterModeEnum.object, reactContextVarName, reactContextName);\n  const jsxString = convertMarkdownAndHtmlToJsx(frontMatterAndMarkdown.markdownString);\n\n  if (componentName == null && frontMatterAndMarkdown.componentNameFromFrontMatter == null) {\n    throw new Error('You must provide a component name eithe through front matter or as a parameter');\n  }\n\n  const reactComponentString = createJsxComponentString(componentName ?? frontMatterAndMarkdown.componentNameFromFrontMatter, jsxString, frontMatterModeEnum.object, undefined, frontMatterAndMarkdown.frontMatterObject, reactContextName);\n  return [reactComponentString, frontMatterAndMarkdown.frontMatterObject];\n};\n\nexports.convertMarkdownToJSXAndObject = convertMarkdownToJSXAndObject;\n\nconst convertMarkdownAndHtmlToJsx = markdownString => {\n  try {\n    const jsxString = (0, _server.renderToStaticMarkup)( /*#__PURE__*/_react.default.createElement(_reactMarkdown.default, {\n      children: markdownString\n    }));\n    const jsxStringWithTabs = jsxString.replace(/(\\n|\\r)/g, c => c + '\\t\\t\\t');\n    return jsxStringWithTabs;\n  } catch (error) {\n    (0, _logger.logger)().error(`error converting markdown to jsx: ${error}`);\n    throw new error();\n  }\n};\n\nconst extractFrontMatter = (stringWithFrontMatter, frontMatterMode, reactContextVarName, reactContextName) => {\n  try {\n    const {\n      data,\n      content\n    } = (0, _grayMatter.default)(stringWithFrontMatter);\n    const frontMatterObject = frontMatterMode == frontMatterModeEnum.object ? data : undefined;\n    const frontMatterJsxString = frontMatterMode == frontMatterModeEnum.reactHead || frontMatterMode == frontMatterModeEnum.reactHelmet ? createFrontMatterJSXString(data, frontMatterMode, reactContextVarName, reactContextName) : undefined;\n    const componentNameFromFrontMatter = data['react-component-name'] ?? data['title'];\n    return {\n      frontMatterJsxString: frontMatterJsxString,\n      frontMatterObject: frontMatterObject,\n      markdownString: content,\n      componentNameFromFrontMatter\n    };\n  } catch (error) {\n    (0, _logger.logger)().error(`failed to extract front matter: ${error}`);\n    throw new error();\n  }\n};\n\nconst createFrontMatterJSXString = (propsToAssign, frontMatterMode, reactContextVarName, reactContextName) => {\n  if (Object.keys(propsToAssign).length < 1) return '';\n\n  if (frontMatterMode == frontMatterModeEnum.reactHead) {\n    return createReactHeadString(propsToAssign, reactContextVarName, reactContextName);\n  }\n\n  if (frontMatterMode == frontMatterModeEnum.reactHelmet) {\n    return createReactHelmentElements(propsToAssign);\n  }\n\n  return '';\n};\n\nconst createJsxComponentString = (componentName, reactString, frontMatterMode, frontmatterString, frontMatterObject, reactContextName) => {\n  const capitalizedMethodName = componentName.replace(/^\\w/, c => c.toUpperCase());\n  const camelCasedComponentName = componentName.replace(/^\\w/, c => c.toLowerCase());\n  let reactComponent = `${frontmatterString ? frontMatterMode == frontMatterModeEnum.reactHelmet ? `import { Helmet } from 'react-helmet'\\n\\n` : `import { useContext } from 'react'\\nimport { ${reactContextName} } from 'reactHead'\\n\\n` : ''}` + `const ${capitalizedMethodName} = () => { \\n  ${frontMatterMode == frontMatterModeEnum.reactHead ? `${frontmatterString}\\n` : ''}\n    return (\n        <div className='${camelCasedComponentName}'>\n        ${frontmatterString && frontMatterMode == frontMatterModeEnum.reactHelmet ? `${frontmatterString}\\n\\t\\t` : ''}\\t${reactString}\n        </div>\n    )\\n}\n    ${frontMatterObject ? `\\nexport const frontMatter = ${JSON.stringify(frontMatterObject, null, \" \")}\\n` : ``}\n    \\nexport default ${capitalizedMethodName}`;\n  return reactComponent;\n};\n\nconst createReactHelmentElements = propsToAssign => {\n  if (!propsToAssign) {\n    return '';\n  } //Example\n  // <Helmet>\n  //     <meta name=\"date\" content=\"2021-01-01\" />\n  //     <title>node with react and redux</title>\n  //     <meta name=\"slug\" content=\"node-react-redux\" />\n  //     <meta name=\"description\" content=\"How to node with react and redux\" />\n  //     <meta name=\"tags\" content=\"node,react,redux\" />\n  // </Helmet>\n\n\n  let propAssignmentString = '';\n\n  for (const propName in propsToAssign) {\n    const propValue = propsToAssign[propName]; //clean up arrays\n\n    let propValueStringified = (0, _json.stringify)(propValue).replace(/]|[|'[]/g, '');\n\n    switch (propName) {\n      case 'title':\n        propAssignmentString += `\\n\\t\\t\\t\\t<title>${propValueStringified}</title>`;\n        break;\n\n      case 'description':\n        propAssignmentString += `\\n\\t\\t\\t\\t<meta name=\"description\" content=\"${propValueStringified}\" />`;\n        break;\n\n      case 'author':\n        propAssignmentString += `\\n\\t\\t\\t\\t<meta name=\"author\" content=\"${propValueStringified}\" />`;\n        break;\n\n      case 'keywords':\n        propAssignmentString += `\\n\\t\\t\\t\\t<meta name=\"keywords\" content=\"${propValueStringified}\" />`;\n        break;\n\n      case 'react-component-name':\n        break;\n\n      default:\n        propAssignmentString += `\\n\\t\\t\\t\\t<meta name=\"${propName}\" content=\"${propValueStringified}\" />`;\n        break;\n    }\n  }\n\n  const reactHelmetString = `\\t<Helmet>` + `\\t\\t${propAssignmentString}` + `\\n\\t\\t\\t</Helmet>`;\n  return reactHelmetString;\n};\n\nconst createReactHeadString = (propsToAssign, reactContextVarName, reactContextName) => {\n  if (!propsToAssign) {\n    return '';\n  } //Example\n  // const [metadata, setMetadata] = useContext('TestContext')\n  // setMetadata({\n  //     ...metadata,\n  //     date = '2021-01-01',\n  //     title = 'node is cool',\n  //     slug = 'node-is-cool',\n  //     description = 'How to node',\n  //     tags = ['node','cool','shuji']\n  // })\n\n\n  const contextVarNameLettersOnly = reactContextVarName.replace(/[^\\w]/g, '');\n  const setContextVarName = 'set' + contextVarNameLettersOnly.replace(/^\\w/, c => c.toUpperCase());\n  const camelCasedVarName = contextVarNameLettersOnly.replace(/^\\w/, c => c.toLowerCase());\n  let propAssignmentString = '';\n\n  for (const propName in propsToAssign) {\n    const propValue = propsToAssign[propName];\n    let propValueStringified = (0, _json.stringify)(propValue);\n    const propNameAlphanumericOnly = propName.replace(/[^\\w]/g, '');\n    if (propNameAlphanumericOnly.toLowerCase() === 'reactcomponentname') continue;\n    propAssignmentString += `\\t\\t${propNameAlphanumericOnly} = ${propValueStringified}, \\n`;\n  }\n\n  const contextAssignmentString = `\\n\\tconst [${camelCasedVarName}, ${setContextVarName}] = useContext(${reactContextName})` + `\\n\\n\\t${setContextVarName}({` + `\\n\\t\\t...${camelCasedVarName},` + `\\n${propAssignmentString}` + `\\t})`;\n  return contextAssignmentString;\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.logger = logger;\nexports.setLogLevel = setLogLevel;\n\nvar _chalk = _interopRequireDefault(require(\"chalk\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n//TODO make this a real logger\nfunction logger() {\n  const shujiPurple = _chalk.default.hex('#6C63A2');\n\n  const debug = message => {\n    if (logLevel > 1) return;\n\n    const blue = _chalk.default.hex('#58a6ff');\n\n    console.log(shujiPurple('Shuji: ') + blue(message));\n  };\n\n  const info = message => {\n    if (logLevel > 2) return;\n\n    const blue = _chalk.default.hex('#58a6ff');\n\n    console.log(shujiPurple('Shuji: ') + blue(message));\n  };\n\n  const warn = message => {\n    if (logLevel > 2) return;\n\n    const orange = _chalk.default.hex('#FFA500');\n\n    console.log(shujiPurple('Shuji: ') + orange(message));\n  };\n\n  const error = (message, error) => {\n    if (logLevel > 2) return;\n\n    const red = _chalk.default.hex('#ff7b72');\n\n    const fullErrorMessage = error ? message + `\\n actual error: ${error.message} \\n ${error.stack}` : message;\n    console.log(shujiPurple('Shuji: ') + red(fullErrorMessage));\n  };\n\n  return {\n    debug,\n    info,\n    warn,\n    error\n  };\n} // level 1 = debug\n// level 2 = default\n// level 3 = no logging\n\n\nlet logLevel = 2;\n\nfunction setLogLevel(level) {\n  logLevel = level;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.writeJsxFiles = exports.getMdFilesFromFolder = void 0;\n\nvar _fs = require(\"fs\");\n\nvar _path = require(\"path\");\n\nvar _logger = require(\"./logger\");\n\nconst getMdFilesFromFolder = async path => {\n  let mdFiles = [];\n\n  try {\n    const pathStat = await _fs.promises.lstat(path);\n    const isPathADirectory = pathStat.isDirectory();\n    const fileNamesInDir = isPathADirectory ? await _fs.promises.readdir(path) : [(0, _path.basename)(path)];\n\n    if (fileNamesInDir.length < 1) {\n      (0, _logger.logger)().warn(`No .md files found in '${path}'`);\n      return mdFiles;\n    }\n\n    (0, _logger.logger)().info(`Processing ${fileNamesInDir.length} file${fileNamesInDir.length > 1 ? 's' : ''} from \"${path}\"...`);\n    mdFiles = await fileNamesInDir.reduce(async (validFilesPromise, fileName) => {\n      const validFiles = await validFilesPromise;\n      if ((0, _path.extname)(fileName) != '.md') return validFiles;\n      const filePath = isPathADirectory ? `${path}/${fileName}` : path;\n      const fileData = await _fs.promises.readFile(filePath);\n      validFiles.push({\n        fileName: (0, _path.basename)(fileName, '.md'),\n        data: fileData.toString()\n      });\n      return validFiles;\n    }, Promise.resolve([]));\n  } catch (err) {\n    (0, _logger.logger)().warn(`No .md files found in inputPath: '${path}'`);\n  }\n\n  return mdFiles;\n};\n\nexports.getMdFilesFromFolder = getMdFilesFromFolder;\n\nconst writeJsxFiles = async (folderPath, jsxFiles, deleteExistingOutputFolder) => {\n  try {\n    if (jsxFiles.length <= 0) return;\n    if (deleteExistingOutputFolder) await _fs.promises.rmdir(folderPath);\n    (0, _logger.logger)().info(`Generating ${jsxFiles.length} file${jsxFiles.length > 1 ? 's' : ''} in \"${folderPath}\"...`);\n    await _fs.promises.mkdir(folderPath, {\n      recursive: true\n    });\n    await Promise.all(jsxFiles.map(async jsxFile => {\n      await _fs.promises.writeFile(`${folderPath}/${jsxFile.fileName}.jsx`, jsxFile.data, 'utf8');\n    }));\n  } catch (error) {\n    (0, _logger.logger)().error(`error writing markdown files: ${error}`);\n  }\n};\n\nexports.writeJsxFiles = writeJsxFiles;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.transformMarkdownFiles = exports.transformMarkdownStringWithFMObject = exports.transformMarkdownString = exports.defaultOptions = void 0;\n\nvar _transformer = require(\"./transformer\");\n\nvar _fileProcessor = require(\"./fileProcessor\");\n\nvar _logger = require(\"./logger\");\n\nconst {\n  performance,\n  PerformanceObserver\n} = require(\"perf_hooks\");\n\nconst defaultOptions = {\n  inputPath: 'markdown',\n  outputPath: 'jsxMarkdown',\n  frontMatterMode: 'reacthelmet',\n  reactHeadContextName: 'ReactHeadContext',\n  reactHeadContextVarName: 'reactHead',\n  deleteExistingOutputFolder: false\n}; //TODO: use typescript types\n\nexports.defaultOptions = defaultOptions;\nconst perfObserver = new PerformanceObserver(items => {\n  items.getEntries().forEach(entry => {\n    const trimmedDuration = parseInt(entry.duration);\n    const currentTime = new Date().toLocaleTimeString();\n\n    if (entry.name == 'shuji') {\n      (0, _logger.logger)().info(`Done in ${trimmedDuration}ms. [${currentTime}]`);\n      return;\n    }\n\n    (0, _logger.logger)().debug(`${entry.name} finished in ${trimmedDuration}ms. [${currentTime}]`);\n  });\n});\nperfObserver.observe({\n  entryTypes: [\"measure\"],\n  buffer: true\n});\n/**\n * Transforms a Markdown string to JSX, including any html in the markdown.\n * Also, front-matter will be extracted in js variables in the react component.\n * @param {string} `markdownString` Markdown string to convert to a react component that may also include front-matter and html.\n * @param {componentName} `componentName` Name of new react component.\n * @param {Options} User defined options to override default values.\n * @return {Promise<number>} files\n */\n\nconst transformMarkdownString = async (markdownString, componentName, options) => {\n  try {\n    performance.mark('start-shuji');\n    const userOptions = { ...defaultOptions,\n      ...options,\n      frontMatterMode: options?.frontMatterMode?.toLowerCase() ?? defaultOptions.frontMatterMode\n    };\n    const jsxString = await (0, _transformer.convertMarkdownToJSX)(markdownString, userOptions.frontMatterMode, userOptions.reactHeadContextVarName, userOptions.reactHeadContextName, componentName);\n    return jsxString;\n  } catch (error) {\n    return '';\n  } finally {\n    performance.mark('end-shuji');\n    performance.measure('shuji', 'start-shuji', 'end-shuji');\n  }\n};\n/**\n * Transforms a Markdown string to JSX, including any html in the markdown.\n * Also, front-matter will be extracted in js variables in the react component.\n * @param {string} `markdownString` Markdown string to convert to a react component that may also include front-matter and html.\n * @param {Options} User defined options to override default values.\n * @return {Promise<number>} files\n */\n\n\nexports.transformMarkdownString = transformMarkdownString;\n\nconst transformMarkdownStringWithFMObject = async (markdownString, componentName, options) => {\n  try {\n    performance.mark('start-shuji');\n    const userOptions = { ...defaultOptions,\n      ...options,\n      frontMatterMode: options?.frontMatterMode?.toLowerCase() ?? defaultOptions.frontMatterMode\n    };\n    const [jsxString, frontMatterObject] = await (0, _transformer.convertMarkdownToJSXAndObject)(markdownString, userOptions.reactHeadContextVarName, userOptions.reactHeadContextName, componentName);\n    return [jsxString, frontMatterObject];\n  } catch (error) {\n    throw new Error(`Any error occurred transforming your markdown: ${error}`);\n  } finally {\n    performance.mark('end-shuji');\n    performance.measure('shuji', 'start-shuji', 'end-shuji');\n  }\n};\n/**\n * Transforms Markdown files to JSX files, including any html in the markdown.\n * Also, front-matter will be extracted in js variables in the react component.\n * @param {Options} User defined options to override default values.\n * @return {Promise<number>} files\n */\n\n\nexports.transformMarkdownStringWithFMObject = transformMarkdownStringWithFMObject;\n\nconst transformMarkdownFiles = async options => {\n  try {\n    performance.mark('start-shuji');\n    const userOptions = { ...defaultOptions,\n      ...options,\n      frontMatterMode: options?.frontMatterMode?.toLowerCase() ?? defaultOptions.frontMatterMode\n    };\n    const mdFiles = await (0, _fileProcessor.getMdFilesFromFolder)(userOptions.inputPath);\n    const jsxStrings = await (0, _transformer.convertMarkdownFilesToJSXFiles)(mdFiles, userOptions.frontMatterMode, userOptions.reactHeadContextVarName, userOptions.reactHeadContextName);\n    await (0, _fileProcessor.writeJsxFiles)(userOptions.outputPath, jsxStrings, userOptions.deleteExistingOutputFolder);\n    return 0;\n  } catch (error) {\n    return 1;\n  } finally {\n    performance.mark('end-shuji');\n    performance.measure('shuji', 'start-shuji', 'end-shuji');\n  }\n};\n\nexports.transformMarkdownFiles = transformMarkdownFiles;"],"names":["$d928f5054bc537b3d6812ef6a2fe6fa9$var$_react","$d928f5054bc537b3d6812ef6a2fe6fa9$var$_interopRequireDefault","$12ozq$react","$d928f5054bc537b3d6812ef6a2fe6fa9$var$_reactMarkdown","$12ozq$reactmarkdown","$d928f5054bc537b3d6812ef6a2fe6fa9$var$_grayMatter","$12ozq$graymatter","shujiPurple","chalk","hex","message","logLevel","blue","console","log","orange","error","red","fullErrorMessage","stack","level","$c08bde6a2c7ebbc4ffc54f57ff3d4fab$var$_chalk","$12ozq$chalk","frontMatterModeEnum","async","markdownFiles","frontMatterMode","reactContextVarName","reactContextName","Promise","all","map","file","frontMatterAndMarkdown","extractFrontMatter","data","jsxString","convertMarkdownAndHtmlToJsx","markdownString","reactComponentString","createJsxComponentString","componentNameFromFrontMatter","fileName","frontMatterJsxString","frontMatterObject","componentName","Error","object","undefined","$12ozq$renderToStaticMarkup","default","createElement","children","replace","c","$c08bde6a2c7ebbc4ffc54f57ff3d4fab$exports","logger","stringWithFrontMatter","content","reactHead","reactHelmet","createFrontMatterJSXString","propsToAssign","Object","keys","length","createReactHeadString","createReactHelmentElements","reactString","frontmatterString","capitalizedMethodName","toUpperCase","camelCasedComponentName","toLowerCase","JSON","stringify","propAssignmentString","propName","propValue","propValueStringified","$12ozq$stringify","contextVarNameLettersOnly","setContextVarName","camelCasedVarName","propNameAlphanumericOnly","path","mdFiles","isPathADirectory","promises","lstat","isDirectory","fileNamesInDir","readdir","$12ozq$basename","warn","info","reduce","validFilesPromise","validFiles","$12ozq$extname","filePath","fileData","readFile","push","toString","resolve","err","folderPath","jsxFiles","deleteExistingOutputFolder","rmdir","mkdir","recursive","jsxFile","writeFile","$12ozq$performance","$12ozq$PerformanceObserver","defaultOptions","inputPath","outputPath","reactHeadContextName","reactHeadContextVarName","$7d09df7f6586727d9bda14a00ae6ddb6$require$PerformanceObserver","items","getEntries","forEach","entry","trimmedDuration","parseInt","duration","currentTime","Date","toLocaleTimeString","name","debug","observe","entryTypes","buffer","options","mark","userOptions","$d928f5054bc537b3d6812ef6a2fe6fa9$exports","convertMarkdownToJSX","measure","convertMarkdownToJSXAndObject","$c09e710eec33281839f83e0e295043f3$exports","getMdFilesFromFolder","jsxStrings","convertMarkdownFilesToJSXFiles","writeJsxFiles"],"version":3,"file":"index.js.map","sourceRoot":"../"}